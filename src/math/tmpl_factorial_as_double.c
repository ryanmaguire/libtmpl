
#include <float.h>

/*  Header file which contains aliases for the function in the standard C     *
 *  library math.h. This allows compatibility of C89 and C99 math.h headers.  */
#include <libtmpl/include/tmpl_math.h>

#if DBL_MAX_10_EXP <= 38

static const double tmpl_factorial_values[34] = {
    1.0000000000000000, 1.0000000000000000, 2.0000000000000000,
    6.0000000000000000, 24.000000000000000, 120.00000000000000,
    720.00000000000000, 5040.0000000000000, 40320.000000000000,
    362880.00000000000, 3.6288000000000000E6, 3.9916800000000000E7,
    4.7900160000000000E8, 6.2270208000000000E9, 8.7178291200000000E10,
    1.3076743680000000E12, 2.0922789888000000E13, 3.5568742809600000E14,
    6.4023737057280000E15, 1.2164510040883200E17, 2.4329020081766400E18,
    5.1090942171709440E19, 1.1240007277776077E21, 2.5852016738884977E22,
    6.2044840173323944E23, 1.5511210043330986E25, 4.0329146112660564E26,
    1.0888869450418352E28, 3.0488834461171386E29, 8.8417619937397020E30,
    2.6525285981219106E32, 8.2228386541779228E33, 2.6313083693369353E35,
    8.6833176188118865E36
};

double tmpl_Factorial_As_Real(unsigned int n)
{
    if (n > 34U)
        return TMPL_INFINITY;
    else
        return tmpl_factorial_values[n];
}

#elif DBL_MAX_10_EXP <= 307


static const double tmpl_factorial_values[171] = {
    1.0000000000000000, 1.0000000000000000, 2.0000000000000000,
    6.0000000000000000, 24.000000000000000, 120.00000000000000,
    720.00000000000000, 5040.0000000000000, 40320.000000000000,
    362880.00000000000, 3.6288000000000000E6, 3.9916800000000000E7,
    4.7900160000000000E8, 6.2270208000000000E9, 8.7178291200000000E10,
    1.3076743680000000E12, 2.0922789888000000E13, 3.5568742809600000E14,
    6.4023737057280000E15, 1.2164510040883200E17, 2.4329020081766400E18,
    5.1090942171709440E19, 1.1240007277776077E21, 2.5852016738884977E22,
    6.2044840173323944E23, 1.5511210043330986E25, 4.0329146112660564E26,
    1.0888869450418352E28, 3.0488834461171386E29, 8.8417619937397020E30,
    2.6525285981219106E32, 8.2228386541779228E33, 2.6313083693369353E35,
    8.6833176188118865E36, 2.9523279903960414E38, 1.0333147966386145E40,
    3.7199332678990122E41, 1.3763753091226345E43, 5.2302261746660111E44,
    2.0397882081197443E46, 8.1591528324789773E47, 3.3452526613163807E49,
    1.4050061177528799E51, 6.0415263063373836E52, 2.6582715747884488E54,
    1.1962222086548019E56, 5.5026221598120889E57, 2.5862324151116818E59,
    1.2413915592536073E61, 6.0828186403426756E62, 3.0414093201713378E64,
    1.5511187532873823E66, 8.0658175170943879E67, 4.2748832840600256E69,
    2.3084369733924138E71, 1.2696403353658276E73, 7.1099858780486345E74,
    4.0526919504877217E76, 2.3505613312828786E78, 1.3868311854568984E80,
    8.3209871127413901E81, 5.0758021387722480E83, 3.1469973260387938E85,
    1.9826083154044401E87, 1.2688693218588416E89, 8.2476505920824707E90,
    5.4434493907744306E92, 3.6471110918188685E94, 2.4800355424368306E96,
    1.7112245242814131E98, 1.1978571669969892E100, 8.5047858856786232E101,
    6.1234458376886087E103, 4.4701154615126843E105, 3.3078854415193864E107,
    2.4809140811395398E109, 1.8854947016660503E111, 1.4518309202828587E113,
    1.1324281178206298E115, 8.9461821307829753E116, 7.1569457046263802E118,
    5.7971260207473680E120, 4.7536433370128417E122, 3.9455239697206587E124,
    3.3142401345653533E126, 2.8171041143805503E128, 2.4227095383672732E130,
    2.1077572983795277E132, 1.8548264225739844E134, 1.6507955160908461E136,
    1.4857159644817615E138, 1.3520015276784030E140, 1.2438414054641307E142,
    1.1567725070816416E144, 1.0873661566567431E146, 1.0329978488239059E148,
    9.9167793487094969E149, 9.6192759682482120E151, 9.4268904488832477E153,
    9.3326215443944153E155, 9.3326215443944153E157, 9.4259477598383594E159,
    9.6144667150351266E161, 9.9029007164861804E163, 1.0299016745145628E166,
    1.0813967582402909E168, 1.1462805637347084E170, 1.2265202031961379E172,
    1.3246418194518290E174, 1.4438595832024936E176, 1.5882455415227429E178,
    1.7629525510902447E180, 1.9745068572210740E182, 2.2311927486598136E184,
    2.5435597334721876E186, 2.9250936934930157E188, 3.3931086844518982E190,
    3.9699371608087209E192, 4.6845258497542907E194, 5.5745857612076059E196,
    6.6895029134491271E198, 8.0942985252734437E200, 9.8750442008336014E202,
    1.2146304367025330E205, 1.5061417415111409E207, 1.8826771768889261E209,
    2.3721732428800469E211, 3.0126600184576595E213, 3.8562048236258042E215,
    4.9745042224772874E217, 6.4668554892204737E219, 8.4715806908788205E221,
    1.1182486511960043E224, 1.4872707060906857E226, 1.9929427461615189E228,
    2.6904727073180505E230, 3.6590428819525487E232, 5.0128887482749917E234,
    6.9177864726194885E236, 9.6157231969410890E238, 1.3462012475717525E241,
    1.8981437590761710E243, 2.6953641378881628E245, 3.8543707171800728E247,
    5.5502938327393048E249, 8.0479260574719919E251, 1.1749972043909108E254,
    1.7272458904546389E256, 2.5563239178728656E258, 3.8089226376305697E260,
    5.7133839564458546E262, 8.6272097742332404E264, 1.3113358856834525E267,
    2.0063439050956824E269, 3.0897696138473509E271, 4.7891429014633939E273,
    7.4710629262828944E275, 1.1729568794264144E278, 1.8532718694937348E280,
    2.9467022724950383E282, 4.7147236359920613E284, 7.5907050539472187E286,
    1.2296942187394494E289, 2.0044015765453026E291, 3.2872185855342962E293,
    5.4239106661315888E295, 9.0036917057784374E297, 1.5036165148649990E300,
    2.5260757449731984E302, 4.2690680090047053E304, 7.2574156153079990E306
};

double tmpl_Factorial_As_Real(unsigned int n)
{
    if (n > 170U)
        return TMPL_INFINITY;
    else
        return tmpl_factorial_values[n];
}
/*  End of tmpl_Factorial_As_Real.                                            */

#else

#endif

